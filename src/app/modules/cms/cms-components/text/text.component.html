<tiptap-editor #textEditElement
               #textEditElementTooltip="bs-tooltip"
               [editor]="editor"
               [ngModel]="text"
               [disabled]="!hasViewMode(ViewMode.EDIT_CONTENT)"
               [tooltip]="validationErrorTooltipTemplate"
               [isOpen]="validationResults.hasHighlighted() && hasViewMode(ViewMode.EDIT_CONTENT)"
               [adaptivePosition]="false"
               placement="top"
               triggers=""
               [ngClass]="{'is-invalid': validationResults.hasErrors()}"></tiptap-editor>

<ng-template #validationErrorTooltipTemplate>
  <div class="d-flex flex-row align-items-center">
    <i class="danger-pointer mr-1"></i>
    {{validationResults.errorString() | async2}}
  </div>
</ng-template>

<ng-template #linkModalTemplate>
  <div class="d-flex flex-row flex-wrap m--1">
    <div class="form-group fp-group flex-grow-1 m-1">
      <div class="fp">{{ 'components.text.link.modal.text_label' | translate }}</div>
      <input #linkModalTitleRef
             type="text"
             [placeholder]="'components.text.link.modal.text_placeholder' | translate"
             class="form-control" />
    </div>
    <div class="form-group fp-group flex-grow-1 m-1">
      <div class="fp">{{ 'components.text.link.modal.href_label' | translate }}</div>
      <input #linkModalHrefRef
             type="text"
             [placeholder]="'components.text.link.modal.href_placeholder' | translate"
             class="form-control" />
    </div>
    <button (action)="insertLink(linkModalTitleRef.value, linkModalHrefRef.value)"
            class="btn btn-primary m-1">
      {{ 'components.text.link.modal.insert_btn' | translate }}
    </button>
  </div>
</ng-template>
